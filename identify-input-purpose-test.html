<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WCAG 1.3.5 - Identify Input Purpose Test Page</title>

    <!-- Machine-readable metadata -->
    <meta name="test:wcag-criterion" content="1.3.5">
    <meta name="test:total-cases" content="10">
    <meta name="test:expected-violations" content="5">
    <meta name="test:expected-passes" content="5">

    <style>
        /* Base styles */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            color: #212529;
            border-bottom: 4px solid #0d6efd;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        .header-info {
            background: #e7f1ff;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #0d6efd;
            margin-bottom: 30px;
        }

        .header-info p {
            margin: 5px 0;
            color: #495057;
        }

        /* Test grid - Side-by-side pattern */
        .test-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0 40px 0;
        }

        .test-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 2px solid #dee2e6;
        }

        .test-card.fail {
            border-color: #dc3545;
            background: #fff5f5;
        }

        .test-card.pass {
            border-color: #198754;
            background: #f0fff4;
        }

        .test-card h3 {
            margin-top: 0;
            color: #212529;
            font-size: 1.1rem;
        }

        .test-sample {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin: 15px 0;
            border: 1px solid #dee2e6;
        }

        .test-sample label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #495057;
        }

        .test-sample input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 14px;
            box-sizing: border-box;
        }

        .test-sample input:focus {
            outline: 2px solid #0d6efd;
            outline-offset: 2px;
        }

        .code-block {
            background-color: #2d2d2d;
            color: #d4d4d4;
            padding: 12px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            margin-top: 12px;
            overflow-x: auto;
        }

        .code-block .tag {
            color: #569cd6;
        }

        .code-block .attr {
            color: #9cdcfe;
        }

        .code-block .string {
            color: #ce9178;
        }

        .code-block .comment {
            color: #6a9955;
        }

        .expected-results {
            background: white;
            padding: 25px;
            border-radius: 8px;
            margin-top: 40px;
            border: 2px solid #0d6efd;
        }

        .expected-results h3 {
            color: #0d6efd;
            margin-top: 0;
        }

        .expected-results ul {
            margin: 10px 0;
        }

        .expected-results li {
            margin: 8px 0;
            color: #495057;
        }

        .violation-list {
            list-style-type: none;
            padding-left: 20px;
        }

        .violation-list li {
            padding: 5px 0;
            border-left: 3px solid #dc3545;
            padding-left: 10px;
            margin: 5px 0;
            background: #fff5f5;
        }

        .pass-list {
            list-style-type: none;
            padding-left: 20px;
        }

        .pass-list li {
            padding: 5px 0;
            border-left: 3px solid #198754;
            padding-left: 10px;
            margin: 5px 0;
            background: #f0fff4;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .test-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìù WCAG 1.3.5 - Identify Input Purpose Test Page</h1>

        <div class="header-info"
             data-wcag-criterion="1.3.5"
             data-total-test-cases="10"
             data-expected-violations="5"
             data-expected-passes="5">
            <p><strong>Testing: WCAG 1.3.5 - Identify Input Purpose (Level AA)</strong></p>
            <p><strong>Requirement:</strong> The purpose of input fields collecting user information can be programmatically determined when the input serves a common purpose</p>
            <p><strong>Why it matters:</strong> Autocomplete attributes help users with cognitive disabilities fill forms using browser autofill, personalization tools, or assistive technologies.</p>
            <p>This page contains <strong>10 test cases</strong> (5 violations, 5 passes) demonstrating proper and missing autocomplete attributes.</p>
        </div>

        <h2>üîç Test Case 1: Email Input</h2>
        <div class="test-grid">
            <!-- FAIL: Email without autocomplete -->
            <div class="test-card fail"
                 data-test-id="TC1.1"
                 data-expected-result="violation"
                 data-wcag-criterion="1.3.5">
                <h3>‚ùå FAIL: Email Without Autocomplete</h3>
                <div class="test-sample">
                    <label for="email-fail">Email Address</label>
                    <input type="email" id="email-fail" placeholder="you@example.com">
                </div>
                <p><strong>Issue:</strong> Email input without autocomplete attribute. Browser cannot assist with autofill.</p>
                <div class="code-block"><span class="tag">&lt;input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">id</span>=<span class="string">"email-fail"</span><span class="tag">&gt;</span>
<span class="comment">&lt;!-- Missing autocomplete attribute --&gt;</span></div>
            </div>

            <!-- PASS: Email with autocomplete -->
            <div class="test-card pass"
                 data-test-id="TC2.1"
                 data-expected-result="pass"
                 data-wcag-criterion="1.3.5">
                <h3>‚úÖ PASS: Email With Autocomplete</h3>
                <div class="test-sample">
                    <label for="email-pass">Email Address</label>
                    <input type="email" id="email-pass" autocomplete="email" placeholder="you@example.com">
                </div>
                <p><strong>Why it passes:</strong> autocomplete="email" tells browsers and assistive tech this is for email address.</p>
                <div class="code-block"><span class="tag">&lt;input</span> <span class="attr">type</span>=<span class="string">"email"</span>
       <span class="attr">autocomplete</span>=<span class="string">"email"</span><span class="tag">&gt;</span>
<span class="comment">&lt;!-- Proper autocomplete attribute --&gt;</span></div>
            </div>
        </div>

        <h2>üîç Test Case 2: Name Input</h2>
        <div class="test-grid">
            <!-- FAIL: Name without autocomplete -->
            <div class="test-card fail"
                 data-test-id="TC1.2"
                 data-expected-result="violation"
                 data-wcag-criterion="1.3.5">
                <h3>‚ùå FAIL: Name Without Autocomplete</h3>
                <div class="test-sample">
                    <label for="name-fail">Full Name</label>
                    <input type="text" id="name-fail" placeholder="John Doe">
                </div>
                <p><strong>Issue:</strong> Name input without autocomplete. Cannot be auto-populated from user's profile.</p>
                <div class="code-block"><span class="tag">&lt;input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"name-fail"</span><span class="tag">&gt;</span>
<span class="comment">&lt;!-- Missing autocomplete for name --&gt;</span></div>
            </div>

            <!-- PASS: Name with autocomplete -->
            <div class="test-card pass"
                 data-test-id="TC2.2"
                 data-expected-result="pass"
                 data-wcag-criterion="1.3.5">
                <h3>‚úÖ PASS: Name With Autocomplete</h3>
                <div class="test-sample">
                    <label for="name-pass">Full Name</label>
                    <input type="text" id="name-pass" autocomplete="name" placeholder="John Doe">
                </div>
                <p><strong>Why it passes:</strong> autocomplete="name" for full name (also: "given-name", "family-name").</p>
                <div class="code-block"><span class="tag">&lt;input</span> <span class="attr">type</span>=<span class="string">"text"</span>
       <span class="attr">autocomplete</span>=<span class="string">"name"</span><span class="tag">&gt;</span>
<span class="comment">&lt;!-- Also: given-name, family-name --&gt;</span></div>
            </div>
        </div>

        <h2>üîç Test Case 3: Address Input</h2>
        <div class="test-grid">
            <!-- FAIL: Address without autocomplete -->
            <div class="test-card fail"
                 data-test-id="TC1.3"
                 data-expected-result="violation"
                 data-wcag-criterion="1.3.5">
                <h3>‚ùå FAIL: Address Without Autocomplete</h3>
                <div class="test-sample">
                    <label for="address-fail">Street Address</label>
                    <input type="text" id="address-fail" placeholder="123 Main St">
                </div>
                <p><strong>Issue:</strong> Address input without autocomplete attribute. Browser autofill won't work.</p>
                <div class="code-block"><span class="tag">&lt;input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"address-fail"</span><span class="tag">&gt;</span>
<span class="comment">&lt;!-- Missing autocomplete for address --&gt;</span></div>
            </div>

            <!-- PASS: Address with autocomplete -->
            <div class="test-card pass"
                 data-test-id="TC2.3"
                 data-expected-result="pass"
                 data-wcag-criterion="1.3.5">
                <h3>‚úÖ PASS: Address With Autocomplete</h3>
                <div class="test-sample">
                    <label for="address-pass">Street Address</label>
                    <input type="text" id="address-pass" autocomplete="street-address" placeholder="123 Main St">
                </div>
                <p><strong>Why it passes:</strong> autocomplete="street-address" (also: "address-line1", "address-line2").</p>
                <div class="code-block"><span class="tag">&lt;input</span> <span class="attr">type</span>=<span class="string">"text"</span>
       <span class="attr">autocomplete</span>=<span class="string">"street-address"</span><span class="tag">&gt;</span>
<span class="comment">&lt;!-- Also: address-line1, address-line2 --&gt;</span></div>
            </div>
        </div>

        <h2>üîç Test Case 4: Phone Input</h2>
        <div class="test-grid">
            <!-- FAIL: Phone without autocomplete -->
            <div class="test-card fail"
                 data-test-id="TC1.4"
                 data-expected-result="violation"
                 data-wcag-criterion="1.3.5">
                <h3>‚ùå FAIL: Phone Without Autocomplete</h3>
                <div class="test-sample">
                    <label for="phone-fail">Phone Number</label>
                    <input type="tel" id="phone-fail" placeholder="(555) 123-4567">
                </div>
                <p><strong>Issue:</strong> Phone input without autocomplete. Browser won't suggest saved phone numbers.</p>
                <div class="code-block"><span class="tag">&lt;input</span> <span class="attr">type</span>=<span class="string">"tel"</span> <span class="attr">id</span>=<span class="string">"phone-fail"</span><span class="tag">&gt;</span>
<span class="comment">&lt;!-- Missing autocomplete for phone --&gt;</span></div>
            </div>

            <!-- PASS: Phone with autocomplete -->
            <div class="test-card pass"
                 data-test-id="TC2.4"
                 data-expected-result="pass"
                 data-wcag-criterion="1.3.5">
                <h3>‚úÖ PASS: Phone With Autocomplete</h3>
                <div class="test-sample">
                    <label for="phone-pass">Phone Number</label>
                    <input type="tel" id="phone-pass" autocomplete="tel" placeholder="(555) 123-4567">
                </div>
                <p><strong>Why it passes:</strong> autocomplete="tel" (also: "tel-national", "tel-local").</p>
                <div class="code-block"><span class="tag">&lt;input</span> <span class="attr">type</span>=<span class="string">"tel"</span>
       <span class="attr">autocomplete</span>=<span class="string">"tel"</span><span class="tag">&gt;</span>
<span class="comment">&lt;!-- Also: tel-national, tel-local --&gt;</span></div>
            </div>
        </div>

        <h2>üîç Test Case 5: Credit Card Input</h2>
        <div class="test-grid">
            <!-- FAIL: Credit card without autocomplete -->
            <div class="test-card fail"
                 data-test-id="TC1.5"
                 data-expected-result="violation"
                 data-wcag-criterion="1.3.5">
                <h3>‚ùå FAIL: Credit Card Without Autocomplete</h3>
                <div class="test-sample">
                    <label for="cc-fail">Card Number</label>
                    <input type="text" id="cc-fail" placeholder="1234 5678 9012 3456">
                </div>
                <p><strong>Issue:</strong> Credit card input without autocomplete. Browser autofill won't work for payment.</p>
                <div class="code-block"><span class="tag">&lt;input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"cc-fail"</span><span class="tag">&gt;</span>
<span class="comment">&lt;!-- Missing autocomplete for credit card --&gt;</span></div>
            </div>

            <!-- PASS: Credit card with autocomplete -->
            <div class="test-card pass"
                 data-test-id="TC2.5"
                 data-expected-result="pass"
                 data-wcag-criterion="1.3.5">
                <h3>‚úÖ PASS: Credit Card With Autocomplete</h3>
                <div class="test-sample">
                    <label for="cc-pass">Card Number</label>
                    <input type="text" id="cc-pass" autocomplete="cc-number" placeholder="1234 5678 9012 3456">
                </div>
                <p><strong>Why it passes:</strong> autocomplete="cc-number" (also: "cc-name", "cc-exp", "cc-csc").</p>
                <div class="code-block"><span class="tag">&lt;input</span> <span class="attr">type</span>=<span class="string">"text"</span>
       <span class="attr">autocomplete</span>=<span class="string">"cc-number"</span><span class="tag">&gt;</span>
<span class="comment">&lt;!-- Also: cc-name, cc-exp, cc-csc --&gt;</span></div>
            </div>
        </div>

        <!-- Expected Results Section -->
        <div class="expected-results"
             data-total-test-cases="10"
             data-expected-violations="5"
             data-expected-passes="5">

            <h3>üìä Expected Test Results</h3>

            <div class="results-summary">
                <ul>
                    <li><strong>Total Test Cases:</strong> 10</li>
                    <li><strong>Expected Violations:</strong> 5
                        <ul class="violation-list">
                            <li><strong>TC1.1</strong> - Email input without autocomplete attribute</li>
                            <li><strong>TC1.2</strong> - Name input without autocomplete attribute</li>
                            <li><strong>TC1.3</strong> - Address input without autocomplete attribute</li>
                            <li><strong>TC1.4</strong> - Phone input without autocomplete attribute</li>
                            <li><strong>TC1.5</strong> - Credit card input without autocomplete attribute</li>
                        </ul>
                    </li>
                    <li><strong>Expected Passes:</strong> 5
                        <ul class="pass-list">
                            <li><strong>TC2.1</strong> - Email with autocomplete="email"</li>
                            <li><strong>TC2.2</strong> - Name with autocomplete="name"</li>
                            <li><strong>TC2.3</strong> - Address with autocomplete="street-address"</li>
                            <li><strong>TC2.4</strong> - Phone with autocomplete="tel"</li>
                            <li><strong>TC2.5</strong> - Credit card with autocomplete="cc-number"</li>
                        </ul>
                    </li>
                </ul>
            </div>

            <h4>Detection Method</h4>
            <p><strong>Automated detection can identify:</strong></p>
            <ul>
                <li>Input fields with type="email", type="tel" missing autocomplete</li>
                <li>Text inputs for common data (name, address, etc.) without autocomplete</li>
                <li>Form fields with labels suggesting personal data but no autocomplete</li>
                <li>Invalid autocomplete values not in HTML specification</li>
            </ul>

            <h4>Common Autocomplete Values</h4>
            <p><strong>Personal Information:</strong></p>
            <ul>
                <li><strong>name</strong> - Full name</li>
                <li><strong>given-name</strong> - First name</li>
                <li><strong>family-name</strong> - Last name</li>
                <li><strong>nickname</strong> - Nickname</li>
                <li><strong>username</strong> - Username</li>
                <li><strong>email</strong> - Email address</li>
                <li><strong>tel</strong> - Full telephone number</li>
                <li><strong>tel-national</strong> - National phone number</li>
                <li><strong>bday</strong> - Birthday</li>
            </ul>

            <p><strong>Address Information:</strong></p>
            <ul>
                <li><strong>street-address</strong> - Full street address</li>
                <li><strong>address-line1</strong> - Address line 1</li>
                <li><strong>address-line2</strong> - Address line 2 (apt, suite)</li>
                <li><strong>address-level1</strong> - State/province</li>
                <li><strong>address-level2</strong> - City</li>
                <li><strong>postal-code</strong> - ZIP/postal code</li>
                <li><strong>country</strong> - Country code</li>
                <li><strong>country-name</strong> - Country name</li>
            </ul>

            <p><strong>Payment Information:</strong></p>
            <ul>
                <li><strong>cc-name</strong> - Name on credit card</li>
                <li><strong>cc-number</strong> - Credit card number</li>
                <li><strong>cc-exp</strong> - Expiration date</li>
                <li><strong>cc-exp-month</strong> - Expiration month</li>
                <li><strong>cc-exp-year</strong> - Expiration year</li>
                <li><strong>cc-csc</strong> - Security code (CVV)</li>
                <li><strong>cc-type</strong> - Card type</li>
            </ul>

            <p><strong>Login Information:</strong></p>
            <ul>
                <li><strong>username</strong> - Username</li>
                <li><strong>new-password</strong> - New password (for registration)</li>
                <li><strong>current-password</strong> - Current password (for login)</li>
            </ul>

            <h4>When to Use Autocomplete</h4>
            <p><strong>Required for inputs collecting:</strong></p>
            <ul>
                <li>User's name (full, first, last)</li>
                <li>User's contact information (email, phone, address)</li>
                <li>User's account credentials (username, password)</li>
                <li>Payment information (credit card, billing address)</li>
                <li>Personal identifiers (birthday, organization)</li>
            </ul>

            <h4>Exceptions</h4>
            <p><strong>Autocomplete NOT required when:</strong></p>
            <ul>
                <li>Input field does not serve a common user information purpose</li>
                <li>Field is for one-time use codes (OTP, CAPTCHA)</li>
                <li>Security requirements prevent autofill (security questions)</li>
                <li>Field is for entering someone else's information</li>
            </ul>

            <h4>Additional Tips</h4>
            <ul>
                <li>Use <strong>autocomplete="off"</strong> only when truly necessary for security</li>
                <li>Combine with appropriate <strong>type</strong> attributes (email, tel, url)</li>
                <li>Use <strong>autocomplete="shipping ..."</strong> or <strong>autocomplete="billing ..."</strong> for multi-address forms</li>
                <li>Validate autocomplete values against HTML Living Standard list</li>
            </ul>
        </div>
    </div>

    <script>
        // Machine-readable test metadata
        window.testMetadata = {
            wcagCriterion: '1.3.5',
            criterionName: 'Identify Input Purpose',
            level: 'AA',
            totalCases: 10,
            expectedViolations: 5,
            expectedPasses: 5,
            testCases: []
        };

        // Parse all test cases
        document.querySelectorAll('[data-test-id]').forEach(testCard => {
            const testCase = {
                id: testCard.dataset.testId,
                expectedResult: testCard.dataset.expectedResult,
                criterion: testCard.dataset.wcagCriterion
            };
            window.testMetadata.testCases.push(testCase);
        });

        // Export function for validation scripts
        window.getTestMetadata = function() {
            return window.testMetadata;
        };

        console.log('‚úÖ WCAG 1.3.5 - Identify Input Purpose test page loaded');
        console.log('üìä Test metadata:', window.testMetadata);
        console.log('üîç Use window.getTestMetadata() to access test data');
        console.log('üìù Key: Add autocomplete attributes to form inputs for user information');
    </script>
</body>
</html>
