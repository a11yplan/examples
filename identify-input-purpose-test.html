<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WCAG 1.3.5 Identify Input Purpose Test Page</title>
    <meta name="test:wcag-criterion" content="1.3.5">
    <meta name="test:total-cases" content="2">
    <meta name="test:expected-violations" content="1">
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f8f9fa; }
        .container { max-width: 1600px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; }
        h1 { color: #212529; border-bottom: 4px solid #0d6efd; padding-bottom: 15px; }
        h2 { color: #495057; margin-top: 30px; padding: 10px; background: #e9ecef; border-radius: 5px; }
        .test-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0; }
        .test-card { background: white; border: 2px solid #dee2e6; border-radius: 8px; padding: 20px; }
        .test-card.fail { border-color: #dc3545; background: #fff5f5; }
        .test-card.pass { border-color: #198754; background: #f0fff4; }
        code { background: #2d2d2d; color: #d4d4d4; padding: 2px 6px; border-radius: 3px; font-size: 13px; display: block; margin: 10px 0; overflow-x: auto; white-space: pre-wrap; }
        @media (max-width: 1200px) {
            .test-grid { grid-template-columns: 1fr; }
        }
        .form-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        .form-section h4 {
            margin-top: 20px;
            margin-bottom: 10px;
            color: #0d6efd;
            font-size: 16px;
            border-bottom: 2px solid #dee2e6;
            padding-bottom: 5px;
        }
        .form-section h4:first-child { margin-top: 0; }
        .form-group { margin-bottom: 15px; }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #495057;
            font-size: 14px;
        }
        .form-group input, .form-group select {
            padding: 8px;
            font-size: 14px;
            border: 1px solid #999;
            border-radius: 4px;
            width: 100%;
            max-width: 350px;
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        @media (max-width: 768px) {
            .form-row { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üë§ WCAG 1.3.5 Identify Input Purpose - Comprehensive Test Page</h1>
        <p><strong>Testing:</strong> All input fields collecting user information must use appropriate autocomplete attributes to programmatically identify their purpose.</p>

        <h2>üìã Test Case 1: Complete User Data Form</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC1.1" data-expected-result="violation" data-wcag-criterion="1.3.5">
                <h3>‚ùå FAIL: All Fields Without Autocomplete</h3>
                <p style="margin-bottom: 15px;">Visual labels present but missing type/autocomplete attributes - AI cannot identify field purposes programmatically</p>

                <div class="form-section">
                    <h4>Personal Information</h4>
                    <div class="form-group">
                        <label>Full Name:</label>
                        <input type="text" placeholder="John Doe">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>First Name:</label>
                            <input type="text" placeholder="John">
                        </div>
                        <div class="form-group">
                            <label>Last Name:</label>
                            <input type="text" placeholder="Doe">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Middle Name:</label>
                            <input type="text" placeholder="Michael">
                        </div>
                        <div class="form-group">
                            <label>Nickname:</label>
                            <input type="text" placeholder="Johnny">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Prefix:</label>
                            <input type="text" placeholder="Mr.">
                        </div>
                        <div class="form-group">
                            <label>Suffix:</label>
                            <input type="text" placeholder="Jr.">
                        </div>
                    </div>

                    <h4>Contact Information</h4>
                    <div class="form-group">
                        <label>Email Address:</label>
                        <input type="text" placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label>Phone Number:</label>
                        <input type="text" placeholder="+49 123 456789">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Country Code:</label>
                            <input type="text" placeholder="+49">
                        </div>
                        <div class="form-group">
                            <label>National Number:</label>
                            <input type="text" placeholder="123 456789">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Area Code:</label>
                            <input type="text" placeholder="030">
                        </div>
                        <div class="form-group">
                            <label>Local Number:</label>
                            <input type="text" placeholder="123456">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Extension:</label>
                        <input type="text" placeholder="789">
                    </div>
                    <div class="form-group">
                        <label>Website URL:</label>
                        <input type="text" placeholder="https://example.com">
                    </div>
                    <div class="form-group">
                        <label>Photo URL:</label>
                        <input type="text" placeholder="https://example.com/photo.jpg">
                    </div>

                    <h4>Organization</h4>
                    <div class="form-group">
                        <label>Company Name:</label>
                        <input type="text" placeholder="Acme Corp">
                    </div>
                    <div class="form-group">
                        <label>Job Title:</label>
                        <input type="text" placeholder="Senior Developer">
                    </div>

                    <h4>Address</h4>
                    <div class="form-group">
                        <label>Street Address:</label>
                        <input type="text" placeholder="123 Main Street">
                    </div>
                    <div class="form-group">
                        <label>Address Line 1:</label>
                        <input type="text" placeholder="123 Main Street">
                    </div>
                    <div class="form-group">
                        <label>Address Line 2:</label>
                        <input type="text" placeholder="Apt 4B">
                    </div>
                    <div class="form-group">
                        <label>Address Line 3:</label>
                        <input type="text" placeholder="Building C">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>City:</label>
                            <input type="text" placeholder="Berlin">
                        </div>
                        <div class="form-group">
                            <label>State/Province:</label>
                            <input type="text" placeholder="Berlin">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>District:</label>
                            <input type="text" placeholder="Mitte">
                        </div>
                        <div class="form-group">
                            <label>Subdistrict:</label>
                            <input type="text" placeholder="Alexanderplatz">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Postal Code:</label>
                            <input type="text" placeholder="10115">
                        </div>
                        <div class="form-group">
                            <label>Country Code:</label>
                            <input type="text" placeholder="DE">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Country Name:</label>
                        <input type="text" placeholder="Germany">
                    </div>

                    <h4>Payment Information</h4>
                    <div class="form-group">
                        <label>Cardholder Name:</label>
                        <input type="text" placeholder="John Doe">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Cardholder First Name:</label>
                            <input type="text" placeholder="John">
                        </div>
                        <div class="form-group">
                            <label>Cardholder Last Name:</label>
                            <input type="text" placeholder="Doe">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Card Number:</label>
                        <input type="text" placeholder="1234 5678 9012 3456">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Expiration Date:</label>
                            <input type="text" placeholder="MM/YY">
                        </div>
                        <div class="form-group">
                            <label>Security Code (CVV):</label>
                            <input type="text" placeholder="123">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Expiration Month:</label>
                            <input type="text" placeholder="12">
                        </div>
                        <div class="form-group">
                            <label>Expiration Year:</label>
                            <input type="text" placeholder="2025">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Card Type:</label>
                        <input type="text" placeholder="Visa">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Transaction Currency:</label>
                            <input type="text" placeholder="EUR">
                        </div>
                        <div class="form-group">
                            <label>Transaction Amount:</label>
                            <input type="text" placeholder="99.99">
                        </div>
                    </div>

                    <h4>Personal Details</h4>
                    <div class="form-group">
                        <label>Date of Birth:</label>
                        <input type="text" placeholder="DD/MM/YYYY">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Birth Day:</label>
                            <input type="text" placeholder="15">
                        </div>
                        <div class="form-group">
                            <label>Birth Month:</label>
                            <input type="text" placeholder="06">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Birth Year:</label>
                        <input type="text" placeholder="1990">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Gender:</label>
                            <input type="text" placeholder="Male">
                        </div>
                        <div class="form-group">
                            <label>Language:</label>
                            <input type="text" placeholder="English">
                        </div>
                    </div>

                    <h4>Login Credentials</h4>
                    <div class="form-group">
                        <label>Username:</label>
                        <input type="text" placeholder="johndoe">
                    </div>
                    <div class="form-group">
                        <label>Current Password:</label>
                        <input type="password" placeholder="********">
                    </div>
                    <div class="form-group">
                        <label>New Password:</label>
                        <input type="password" placeholder="********">
                    </div>
                    <div class="form-group">
                        <label>One-Time Code:</label>
                        <input type="text" placeholder="123456">
                    </div>
                </div>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC2.1" data-expected-result="pass" data-wcag-criterion="1.3.5">
                <h3>‚úÖ PASS: All Fields With Correct Autocomplete</h3>
                <p style="margin-bottom: 15px;">All fields have appropriate type and autocomplete attributes - AI can identify all field purposes programmatically</p>

                <div class="form-section">
                    <h4>Personal Information</h4>
                    <div class="form-group">
                        <label>Full Name:</label>
                        <input type="text" autocomplete="name" placeholder="John Doe">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>First Name:</label>
                            <input type="text" autocomplete="given-name" placeholder="John">
                        </div>
                        <div class="form-group">
                            <label>Last Name:</label>
                            <input type="text" autocomplete="family-name" placeholder="Doe">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Middle Name:</label>
                            <input type="text" autocomplete="additional-name" placeholder="Michael">
                        </div>
                        <div class="form-group">
                            <label>Nickname:</label>
                            <input type="text" autocomplete="nickname" placeholder="Johnny">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Prefix:</label>
                            <input type="text" autocomplete="honorific-prefix" placeholder="Mr.">
                        </div>
                        <div class="form-group">
                            <label>Suffix:</label>
                            <input type="text" autocomplete="honorific-suffix" placeholder="Jr.">
                        </div>
                    </div>

                    <h4>Contact Information</h4>
                    <div class="form-group">
                        <label>Email Address:</label>
                        <input type="email" autocomplete="email" placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label>Phone Number:</label>
                        <input type="tel" autocomplete="tel" placeholder="+49 123 456789">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Country Code:</label>
                            <input type="tel" autocomplete="tel-country-code" placeholder="+49">
                        </div>
                        <div class="form-group">
                            <label>National Number:</label>
                            <input type="tel" autocomplete="tel-national" placeholder="123 456789">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Area Code:</label>
                            <input type="tel" autocomplete="tel-area-code" placeholder="030">
                        </div>
                        <div class="form-group">
                            <label>Local Number:</label>
                            <input type="tel" autocomplete="tel-local" placeholder="123456">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Extension:</label>
                        <input type="tel" autocomplete="tel-extension" placeholder="789">
                    </div>
                    <div class="form-group">
                        <label>Website URL:</label>
                        <input type="url" autocomplete="url" placeholder="https://example.com">
                    </div>
                    <div class="form-group">
                        <label>Photo URL:</label>
                        <input type="url" autocomplete="photo" placeholder="https://example.com/photo.jpg">
                    </div>

                    <h4>Organization</h4>
                    <div class="form-group">
                        <label>Company Name:</label>
                        <input type="text" autocomplete="organization" placeholder="Acme Corp">
                    </div>
                    <div class="form-group">
                        <label>Job Title:</label>
                        <input type="text" autocomplete="organization-title" placeholder="Senior Developer">
                    </div>

                    <h4>Address</h4>
                    <div class="form-group">
                        <label>Street Address:</label>
                        <input type="text" autocomplete="street-address" placeholder="123 Main Street">
                    </div>
                    <div class="form-group">
                        <label>Address Line 1:</label>
                        <input type="text" autocomplete="address-line1" placeholder="123 Main Street">
                    </div>
                    <div class="form-group">
                        <label>Address Line 2:</label>
                        <input type="text" autocomplete="address-line2" placeholder="Apt 4B">
                    </div>
                    <div class="form-group">
                        <label>Address Line 3:</label>
                        <input type="text" autocomplete="address-line3" placeholder="Building C">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>City:</label>
                            <input type="text" autocomplete="address-level2" placeholder="Berlin">
                        </div>
                        <div class="form-group">
                            <label>State/Province:</label>
                            <input type="text" autocomplete="address-level1" placeholder="Berlin">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>District:</label>
                            <input type="text" autocomplete="address-level3" placeholder="Mitte">
                        </div>
                        <div class="form-group">
                            <label>Subdistrict:</label>
                            <input type="text" autocomplete="address-level4" placeholder="Alexanderplatz">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Postal Code:</label>
                            <input type="text" autocomplete="postal-code" placeholder="10115">
                        </div>
                        <div class="form-group">
                            <label>Country Code:</label>
                            <input type="text" autocomplete="country" placeholder="DE">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Country Name:</label>
                        <input type="text" autocomplete="country-name" placeholder="Germany">
                    </div>

                    <h4>Payment Information</h4>
                    <div class="form-group">
                        <label>Cardholder Name:</label>
                        <input type="text" autocomplete="cc-name" placeholder="John Doe">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Cardholder First Name:</label>
                            <input type="text" autocomplete="cc-given-name" placeholder="John">
                        </div>
                        <div class="form-group">
                            <label>Cardholder Last Name:</label>
                            <input type="text" autocomplete="cc-family-name" placeholder="Doe">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Card Number:</label>
                        <input type="text" autocomplete="cc-number" placeholder="1234 5678 9012 3456">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Expiration Date:</label>
                            <input type="text" autocomplete="cc-exp" placeholder="MM/YY">
                        </div>
                        <div class="form-group">
                            <label>Security Code (CVV):</label>
                            <input type="text" autocomplete="cc-csc" placeholder="123">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Expiration Month:</label>
                            <input type="month" autocomplete="cc-exp-month" placeholder="12">
                        </div>
                        <div class="form-group">
                            <label>Expiration Year:</label>
                            <input type="number" autocomplete="cc-exp-year" placeholder="2025">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Card Type:</label>
                        <input type="text" autocomplete="cc-type" placeholder="Visa">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Transaction Currency:</label>
                            <input type="text" autocomplete="transaction-currency" placeholder="EUR">
                        </div>
                        <div class="form-group">
                            <label>Transaction Amount:</label>
                            <input type="text" autocomplete="transaction-amount" placeholder="99.99">
                        </div>
                    </div>

                    <h4>Personal Details</h4>
                    <div class="form-group">
                        <label>Date of Birth:</label>
                        <input type="date" autocomplete="bday" placeholder="DD/MM/YYYY">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Birth Day:</label>
                            <input type="number" autocomplete="bday-day" placeholder="15">
                        </div>
                        <div class="form-group">
                            <label>Birth Month:</label>
                            <input type="number" autocomplete="bday-month" placeholder="06">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Birth Year:</label>
                        <input type="number" autocomplete="bday-year" placeholder="1990">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Gender:</label>
                            <input type="text" autocomplete="sex" placeholder="Male">
                        </div>
                        <div class="form-group">
                            <label>Language:</label>
                            <input type="text" autocomplete="language" placeholder="English">
                        </div>
                    </div>

                    <h4>Login Credentials</h4>
                    <div class="form-group">
                        <label>Username:</label>
                        <input type="text" autocomplete="username" placeholder="johndoe">
                    </div>
                    <div class="form-group">
                        <label>Current Password:</label>
                        <input type="password" autocomplete="current-password" placeholder="********">
                    </div>
                    <div class="form-group">
                        <label>New Password:</label>
                        <input type="password" autocomplete="new-password" placeholder="********">
                    </div>
                    <div class="form-group">
                        <label>One-Time Code:</label>
                        <input type="text" autocomplete="one-time-code" placeholder="123456">
                    </div>
                </div>
            </div>
        </div>

        <div style="background: #fff3cd; padding: 20px; border-radius: 5px; margin-top: 30px;">
            <h3>üìä Expected Results</h3>
            <ul>
                <li><strong>Total Test Cases:</strong> 2</li>
                <li><strong>Expected Violations:</strong> 1 (TC1.1 - all 60+ fields without autocomplete)</li>
                <li><strong>Expected Passes:</strong> 1 (TC2.1 - all 60+ fields with correct autocomplete)</li>
            </ul>
            <h4>WCAG 1.3.5 Requirements:</h4>
            <ul>
                <li><strong>Purpose:</strong> Input fields collecting user information must programmatically identify their purpose</li>
                <li><strong>Applies to:</strong> Fields collecting specific user data (name, email, phone, address, payment, etc.)</li>
                <li><strong>Implementation:</strong> Use appropriate autocomplete attributes from HTML 5.2 specification</li>
                <li><strong>Level:</strong> AA</li>
            </ul>
            <h4>Test Structure:</h4>
            <p>This comprehensive test shows ALL available autocomplete fields side-by-side:</p>
            <ul>
                <li><strong>Left (Red/FAIL):</strong> Complete form with 60+ fields, all WITHOUT autocomplete attributes</li>
                <li><strong>Right (Green/PASS):</strong> Identical visual form with ALL correct type and autocomplete attributes</li>
            </ul>
            <h4>Complete Field Coverage:</h4>
            <ul>
                <li><strong>Personal:</strong> name, given-name, family-name, additional-name, nickname, honorific-prefix, honorific-suffix (7 fields)</li>
                <li><strong>Contact:</strong> email, tel, tel-country-code, tel-national, tel-area-code, tel-local, tel-extension, url, photo (9 fields)</li>
                <li><strong>Organization:</strong> organization, organization-title (2 fields)</li>
                <li><strong>Address:</strong> street-address, address-line1-3, address-level1-4, postal-code, country, country-name (13 fields)</li>
                <li><strong>Payment:</strong> cc-name, cc-given-name, cc-family-name, cc-number, cc-exp, cc-exp-month, cc-exp-year, cc-csc, cc-type, transaction-currency, transaction-amount (11 fields)</li>
                <li><strong>Date:</strong> bday, bday-day, bday-month, bday-year (4 fields)</li>
                <li><strong>Other:</strong> sex, language (2 fields)</li>
                <li><strong>Login:</strong> username, current-password, new-password, one-time-code (4 fields)</li>
                <li><strong>Total:</strong> 52 unique autocomplete values tested</li>
            </ul>
            <h4>AI Testing Capabilities:</h4>
            <ul>
                <li>Can read visual label text to understand expected input purpose</li>
                <li>Can detect ALL missing autocomplete attributes across entire form</li>
                <li>Can verify correct autocomplete values for all field types</li>
                <li>Can validate input type matches autocomplete purpose (email, tel, url, password, date, number)</li>
                <li>Can use the provided autocompleteTypeMapping to validate correct combinations</li>
                <li>Can test comprehensive user data collection forms in one pass</li>
            </ul>
            <h4>Benefits for Users:</h4>
            <ul>
                <li>Browser can auto-fill entire forms with saved user data</li>
                <li>Assistive technologies can provide personalized input methods for all fields</li>
                <li>Users with cognitive disabilities get context-appropriate input aids throughout the form</li>
                <li>Password managers can correctly identify all login and payment fields</li>
                <li>Reduces form completion time and user effort significantly</li>
            </ul>
        </div>
    </div>
    <script>
        window.testMetadata = {
            wcagCriterion: '1.3.5',
            criterionName: 'Identify Input Purpose',
            level: 'AA',
            totalCases: 2,
            expectedViolations: 1,
            expectedPasses: 1,
            testCases: []
        };

        // Autocomplete type mapping for validation
        window.autocompleteTypeMapping = {
            'text': [
                'name', 'given-name', 'family-name', 'additional-name',
                'nickname', 'honorific-prefix', 'honorific-suffix',
                'organization', 'organization-title',
                'street-address', 'address-line1', 'address-line2', 'address-line3',
                'address-level1', 'address-level2', 'address-level3', 'address-level4',
                'postal-code', 'country', 'country-name',
                'cc-name', 'cc-given-name', 'cc-family-name', 'cc-number',
                'cc-exp', 'cc-exp-month', 'cc-exp-year', 'cc-csc', 'cc-type',
                'transaction-currency', 'transaction-amount',
                'language', 'bday', 'bday-day', 'bday-month', 'bday-year',
                'sex', 'username', 'one-time-code'
            ],
            'email': ['email'],
            'tel': [
                'tel', 'tel-country-code', 'tel-national',
                'tel-area-code', 'tel-local', 'tel-extension'
            ],
            'url': ['url', 'photo'],
            'password': ['current-password', 'new-password'],
            'date': ['bday'],
            'month': ['bday-month', 'cc-exp-month'],
            'number': [
                'bday-day', 'bday-month', 'bday-year',
                'cc-exp-month', 'cc-exp-year'
            ]
        };

        document.querySelectorAll('[data-test-id]').forEach(tc => {
            window.testMetadata.testCases.push({
                id: tc.dataset.testId,
                expectedResult: tc.dataset.expectedResult,
                criterion: tc.dataset.wcagCriterion
            });
        });

        window.getTestMetadata = () => window.testMetadata;
        window.getAutocompleteMapping = () => window.autocompleteTypeMapping;

        console.log('‚úÖ WCAG 1.3.5 comprehensive test page loaded');
        console.log('üìã Testing 52 unique autocomplete values across all user data field types');
        console.log('üìã Autocomplete mapping available via window.getAutocompleteMapping()');
    </script>
</body>
</html>
