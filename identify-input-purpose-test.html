<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WCAG 1.3.5 Identify Input Purpose Test Page</title>
    <meta name="test:wcag-criterion" content="1.3.5">
    <meta name="test:total-cases" content="14">
    <meta name="test:expected-violations" content="7">
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f8f9fa; }
        .container { max-width: 1400px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; }
        h1 { color: #212529; border-bottom: 4px solid #0d6efd; padding-bottom: 15px; }
        h2 { color: #495057; margin-top: 30px; padding: 10px; background: #e9ecef; border-radius: 5px; }
        .test-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0; }
        .test-card { background: white; border: 2px solid #dee2e6; border-radius: 8px; padding: 20px; }
        .test-card.fail { border-color: #dc3545; background: #fff5f5; }
        .test-card.pass { border-color: #198754; background: #f0fff4; }
        code { background: #2d2d2d; color: #d4d4d4; padding: 2px 6px; border-radius: 3px; font-size: 13px; display: block; margin: 10px 0; overflow-x: auto; white-space: pre-wrap; }
        @media (max-width: 1024px) {
            .test-grid { grid-template-columns: 1fr; }
        }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: 600; color: #495057; }
        .form-group input, .form-group select {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #999;
            border-radius: 4px;
            width: 100%;
            max-width: 300px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üë§ WCAG 1.3.5 Identify Input Purpose - Test Page</h1>
        <p><strong>Testing:</strong> Input fields collecting user information must use appropriate autocomplete attributes to identify their purpose.</p>

        <h2>üìß Test Case 1: Email Field</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC1.1" data-expected-result="violation" data-wcag-criterion="1.3.5">
                <h3>‚ùå FAIL: No Type & Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Email Address:</label>
                        <input type="text" placeholder="your@email.com">
                    </div>
                </div>
                <p>Visual label "Email Address:" but type="text" without autocomplete - AI cannot identify purpose</p>
                <code>&lt;label&gt;Email Address:&lt;/label&gt;
&lt;input type="text"&gt;</code>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC2.1" data-expected-result="pass" data-wcag-criterion="1.3.5">
                <h3>‚úÖ PASS: Correct Type & Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Email Address:</label>
                        <input type="email" autocomplete="email" placeholder="your@email.com">
                    </div>
                </div>
                <p>Visual label "Email Address:" with type="email" and autocomplete="email" - AI can identify purpose</p>
                <code>&lt;label&gt;Email Address:&lt;/label&gt;
&lt;input type="email" autocomplete="email"&gt;</code>
            </div>
        </div>

        <h2>üì± Test Case 2: Phone Number Field</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC1.2" data-expected-result="violation" data-wcag-criterion="1.3.5">
                <h3>‚ùå FAIL: No Type & Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Phone Number:</label>
                        <input type="text" placeholder="+49 123 456789">
                    </div>
                </div>
                <p>Visual label "Phone Number:" but type="text" without autocomplete - AI cannot identify purpose</p>
                <code>&lt;label&gt;Phone Number:&lt;/label&gt;
&lt;input type="text"&gt;</code>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC2.2" data-expected-result="pass" data-wcag-criterion="1.3.5">
                <h3>‚úÖ PASS: Correct Type & Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Phone Number:</label>
                        <input type="tel" autocomplete="tel" placeholder="+49 123 456789">
                    </div>
                </div>
                <p>Visual label "Phone Number:" with type="tel" and autocomplete="tel" - AI can identify purpose</p>
                <code>&lt;label&gt;Phone Number:&lt;/label&gt;
&lt;input type="tel" autocomplete="tel"&gt;</code>
            </div>
        </div>

        <h2>üë§ Test Case 3: Full Name Field</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC1.3" data-expected-result="violation" data-wcag-criterion="1.3.5">
                <h3>‚ùå FAIL: No Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Full Name:</label>
                        <input type="text" placeholder="John Doe">
                    </div>
                </div>
                <p>Visual label "Full Name:" but no autocomplete - AI cannot identify purpose</p>
                <code>&lt;label&gt;Full Name:&lt;/label&gt;
&lt;input type="text"&gt;</code>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC2.3" data-expected-result="pass" data-wcag-criterion="1.3.5">
                <h3>‚úÖ PASS: Correct Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Full Name:</label>
                        <input type="text" autocomplete="name" placeholder="John Doe">
                    </div>
                </div>
                <p>Visual label "Full Name:" with autocomplete="name" - AI can identify purpose</p>
                <code>&lt;label&gt;Full Name:&lt;/label&gt;
&lt;input type="text" autocomplete="name"&gt;</code>
            </div>
        </div>

        <h2>üè† Test Case 4: Street Address Field</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC1.4" data-expected-result="violation" data-wcag-criterion="1.3.5">
                <h3>‚ùå FAIL: No Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Street Address:</label>
                        <input type="text" placeholder="123 Main Street">
                    </div>
                </div>
                <p>Visual label "Street Address:" but no autocomplete - AI cannot identify purpose</p>
                <code>&lt;label&gt;Street Address:&lt;/label&gt;
&lt;input type="text"&gt;</code>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC2.4" data-expected-result="pass" data-wcag-criterion="1.3.5">
                <h3>‚úÖ PASS: Correct Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Street Address:</label>
                        <input type="text" autocomplete="street-address" placeholder="123 Main Street">
                    </div>
                </div>
                <p>Visual label "Street Address:" with autocomplete="street-address" - AI can identify purpose</p>
                <code>&lt;label&gt;Street Address:&lt;/label&gt;
&lt;input type="text" autocomplete="street-address"&gt;</code>
            </div>
        </div>

        <h2>üí≥ Test Case 5: Credit Card Number Field</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC1.5" data-expected-result="violation" data-wcag-criterion="1.3.5">
                <h3>‚ùå FAIL: No Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Card Number:</label>
                        <input type="text" placeholder="1234 5678 9012 3456">
                    </div>
                </div>
                <p>Visual label "Card Number:" but no autocomplete - AI cannot identify purpose</p>
                <code>&lt;label&gt;Card Number:&lt;/label&gt;
&lt;input type="text"&gt;</code>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC2.5" data-expected-result="pass" data-wcag-criterion="1.3.5">
                <h3>‚úÖ PASS: Correct Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Card Number:</label>
                        <input type="text" autocomplete="cc-number" placeholder="1234 5678 9012 3456">
                    </div>
                </div>
                <p>Visual label "Card Number:" with autocomplete="cc-number" - AI can identify purpose</p>
                <code>&lt;label&gt;Card Number:&lt;/label&gt;
&lt;input type="text" autocomplete="cc-number"&gt;</code>
            </div>
        </div>

        <h2>üéÇ Test Case 6: Birthday Field</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC1.6" data-expected-result="violation" data-wcag-criterion="1.3.5">
                <h3>‚ùå FAIL: No Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Date of Birth:</label>
                        <input type="date" placeholder="DD/MM/YYYY">
                    </div>
                </div>
                <p>Visual label "Date of Birth:" but no autocomplete - AI cannot identify purpose</p>
                <code>&lt;label&gt;Date of Birth:&lt;/label&gt;
&lt;input type="date"&gt;</code>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC2.6" data-expected-result="pass" data-wcag-criterion="1.3.5">
                <h3>‚úÖ PASS: Correct Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Date of Birth:</label>
                        <input type="date" autocomplete="bday" placeholder="DD/MM/YYYY">
                    </div>
                </div>
                <p>Visual label "Date of Birth:" with autocomplete="bday" - AI can identify purpose</p>
                <code>&lt;label&gt;Date of Birth:&lt;/label&gt;
&lt;input type="date" autocomplete="bday"&gt;</code>
            </div>
        </div>

        <h2>üîí Test Case 7: Password Field</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC1.7" data-expected-result="violation" data-wcag-criterion="1.3.5">
                <h3>‚ùå FAIL: No Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Password:</label>
                        <input type="password" placeholder="Enter password">
                    </div>
                </div>
                <p>Visual label "Password:" but no autocomplete - AI cannot identify if current or new password</p>
                <code>&lt;label&gt;Password:&lt;/label&gt;
&lt;input type="password"&gt;</code>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC2.7" data-expected-result="pass" data-wcag-criterion="1.3.5">
                <h3>‚úÖ PASS: Correct Autocomplete</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <div class="form-group">
                        <label>Password:</label>
                        <input type="password" autocomplete="current-password" placeholder="Enter password">
                    </div>
                </div>
                <p>Visual label "Password:" with autocomplete="current-password" - AI can identify purpose</p>
                <code>&lt;label&gt;Password:&lt;/label&gt;
&lt;input type="password" autocomplete="current-password"&gt;</code>
            </div>
        </div>

        <div style="background: #fff3cd; padding: 20px; border-radius: 5px; margin-top: 30px;">
            <h3>üìä Expected Results</h3>
            <ul>
                <li><strong>Total Test Cases:</strong> 14</li>
                <li><strong>Expected Violations:</strong> 7 (TC1.1-1.7)</li>
                <li><strong>Expected Passes:</strong> 7 (TC2.1-2.7)</li>
            </ul>
            <h4>WCAG 1.3.5 Requirements:</h4>
            <ul>
                <li><strong>Purpose:</strong> Input fields collecting user information must programmatically identify their purpose</li>
                <li><strong>Applies to:</strong> Fields collecting specific user data (name, email, phone, address, payment, etc.)</li>
                <li><strong>Implementation:</strong> Use appropriate autocomplete attributes from HTML 5.2 specification</li>
                <li><strong>Level:</strong> AA</li>
            </ul>
            <h4>Test Structure:</h4>
            <p>Each test case shows the SAME visual label side-by-side:</p>
            <ul>
                <li><strong>Left (Red/FAIL):</strong> Field without autocomplete or wrong input type</li>
                <li><strong>Right (Green/PASS):</strong> Field with correct type and autocomplete</li>
            </ul>
            <h4>Common Violations:</h4>
            <ul>
                <li><strong>Email:</strong> type="text" instead of type="email", missing autocomplete="email"</li>
                <li><strong>Phone:</strong> type="text" instead of type="tel", missing autocomplete="tel"</li>
                <li><strong>Name:</strong> Missing autocomplete="name" or specific variants (given-name, family-name)</li>
                <li><strong>Address:</strong> Missing autocomplete="street-address" or address components</li>
                <li><strong>Credit Card:</strong> Missing autocomplete="cc-number", "cc-exp", "cc-csc"</li>
                <li><strong>Birthday:</strong> Missing autocomplete="bday"</li>
                <li><strong>Password:</strong> Missing autocomplete="current-password" or "new-password"</li>
            </ul>
            <h4>Autocomplete Values (Selection):</h4>
            <ul>
                <li><strong>Personal:</strong> name, given-name, family-name, nickname, email, tel</li>
                <li><strong>Address:</strong> street-address, address-line1, postal-code, country, country-name</li>
                <li><strong>Payment:</strong> cc-name, cc-number, cc-exp, cc-exp-month, cc-exp-year, cc-csc</li>
                <li><strong>Login:</strong> username, current-password, new-password</li>
                <li><strong>Other:</strong> bday, sex, url, photo, language</li>
            </ul>
            <h4>AI Testing Capabilities:</h4>
            <ul>
                <li>Can read visual label text to understand expected input purpose (e.g., "Email:", "Phone:")</li>
                <li>Can compare visual label with input type and autocomplete attribute</li>
                <li>Can detect missing autocomplete attributes on fields with user data labels</li>
                <li>Can detect wrong input types (e.g., type="text" for email field)</li>
                <li>Can verify autocomplete values match the visual label semantics</li>
                <li>Can use the provided autocompleteTypeMapping to validate correct combinations</li>
            </ul>
            <h4>Benefits for Users:</h4>
            <ul>
                <li>Browser can auto-fill forms with saved user data</li>
                <li>Assistive technologies can provide personalized input methods</li>
                <li>Users with cognitive disabilities get context-appropriate input aids</li>
                <li>Password managers can correctly identify login fields</li>
            </ul>
        </div>
    </div>
    <script>
        window.testMetadata = {
            wcagCriterion: '1.3.5',
            criterionName: 'Identify Input Purpose',
            level: 'AA',
            totalCases: 14,
            expectedViolations: 7,
            expectedPasses: 7,
            testCases: []
        };

        // Autocomplete type mapping for validation
        window.autocompleteTypeMapping = {
            'text': [
                'name', 'given-name', 'family-name', 'additional-name',
                'nickname', 'honorific-prefix', 'honorific-suffix',
                'organization', 'organization-title',
                'street-address', 'address-line1', 'address-line2', 'address-line3',
                'address-level1', 'address-level2', 'address-level3', 'address-level4',
                'postal-code', 'country', 'country-name',
                'cc-name', 'cc-given-name', 'cc-family-name', 'cc-number',
                'cc-exp', 'cc-exp-month', 'cc-exp-year', 'cc-csc', 'cc-type',
                'transaction-currency', 'transaction-amount',
                'language', 'bday', 'bday-day', 'bday-month', 'bday-year',
                'sex', 'username', 'one-time-code'
            ],
            'email': ['email'],
            'tel': [
                'tel', 'tel-country-code', 'tel-national',
                'tel-area-code', 'tel-local', 'tel-extension'
            ],
            'url': ['url', 'photo'],
            'password': ['current-password', 'new-password'],
            'date': ['bday'],
            'month': ['bday-month', 'cc-exp-month'],
            'number': [
                'bday-day', 'bday-month', 'bday-year',
                'cc-exp-month', 'cc-exp-year'
            ]
        };

        document.querySelectorAll('[data-test-id]').forEach(tc => {
            window.testMetadata.testCases.push({
                id: tc.dataset.testId,
                expectedResult: tc.dataset.expectedResult,
                criterion: tc.dataset.wcagCriterion
            });
        });

        window.getTestMetadata = () => window.testMetadata;
        window.getAutocompleteMapping = () => window.autocompleteTypeMapping;

        console.log('‚úÖ WCAG 1.3.5 test page loaded');
        console.log('üìã Autocomplete mapping available via window.getAutocompleteMapping()');
    </script>
</body>
</html>
