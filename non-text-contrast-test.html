<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WCAG 1.4.11 Non-text Contrast Test Page</title>
    <meta name="test:wcag-criterion" content="1.4.11">
    <meta name="test:total-cases" content="12">
    <meta name="test:expected-violations" content="6">
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f8f9fa; }
        .container { max-width: 1400px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; }
        h1 { color: #212529; border-bottom: 4px solid #0d6efd; padding-bottom: 15px; }
        h2 { color: #495057; margin-top: 30px; padding: 10px; background: #e9ecef; border-radius: 5px; }
        .test-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0; }
        .test-card { background: white; border: 2px solid #dee2e6; border-radius: 8px; padding: 20px; }
        .test-card.fail { border-color: #dc3545; background: #fff5f5; }
        .test-card.pass { border-color: #198754; background: #f0fff4; }
        code { background: #2d2d2d; color: #d4d4d4; padding: 2px 6px; border-radius: 3px; font-size: 13px; display: block; margin: 10px 0; overflow-x: auto; }
        @media (max-width: 1024px) {
            .test-grid { grid-template-columns: 1fr; }
        }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: 600; color: #495057; }

        /* TC1.1: Form with low contrast borders */
        .tc1-form-low-border input,
        .tc1-form-low-border select,
        .tc1-form-low-border textarea,
        .tc1-form-low-border button.submit-btn {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            background: #ffffff;
            width: 100%;
            color: #333;
        }
        .tc1-form-low-border button.submit-btn {
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
        }
        .tc1-form-low-border .checkbox-wrapper {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .tc1-checkbox-low {
            width: 20px;
            height: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 4px;
            background: #ffffff;
            cursor: pointer;
            flex-shrink: 0;
        }

        /* TC2.1: Form with sufficient border contrast */
        .tc2-form-good-border input,
        .tc2-form-good-border select,
        .tc2-form-good-border textarea,
        .tc2-form-good-border button.submit-btn {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #999999;
            border-radius: 4px;
            background: #ffffff;
            width: 100%;
            color: #333;
        }
        .tc2-form-good-border button.submit-btn {
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
        }
        .tc2-form-good-border .checkbox-wrapper {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .tc2-checkbox-good {
            width: 20px;
            height: 20px;
            border: 2px solid #999999;
            border-radius: 4px;
            background: #ffffff;
            cursor: pointer;
            flex-shrink: 0;
        }

        /* TC1.1b: Form with low contrast backgrounds */
        .tc1-form-low-bg input,
        .tc1-form-low-bg select,
        .tc1-form-low-bg textarea,
        .tc1-form-low-bg button.submit-btn {
            padding: 10px;
            font-size: 16px;
            border: none;
            border-radius: 4px;
            background: #f5f5f5;
            width: 100%;
            color: #333;
        }
        .tc1-form-low-bg button.submit-btn {
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
        }
        .tc1-form-low-bg .checkbox-wrapper {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .tc1-checkbox-low-bg {
            width: 20px;
            height: 20px;
            border: none;
            border-radius: 4px;
            background: #f5f5f5;
            cursor: pointer;
            flex-shrink: 0;
        }

        /* TC2.1b: Form with sufficient background contrast */
        .tc2-form-good-bg input,
        .tc2-form-good-bg select,
        .tc2-form-good-bg textarea,
        .tc2-form-good-bg button.submit-btn {
            padding: 10px;
            font-size: 16px;
            border: none;
            border-radius: 4px;
            background: #e0e0e0;
            width: 100%;
            color: #333;
        }
        .tc2-form-good-bg button.submit-btn {
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
        }
        .tc2-form-good-bg .checkbox-wrapper {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .tc2-checkbox-good-bg {
            width: 20px;
            height: 20px;
            border: none;
            border-radius: 4px;
            background: #e0e0e0;
            cursor: pointer;
            flex-shrink: 0;
        }

        /* TC1.2: Icon-only button with low contrast border */
        .tc1-icon-btn-low-border {
            width: 44px;
            height: 44px;
            padding: 10px;
            background: #ffffff;
            border: 2px solid #d4d4d4;
            border-radius: 4px;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* TC2.2: Icon-only button with sufficient contrast border */
        .tc2-icon-btn-good-border {
            width: 44px;
            height: 44px;
            padding: 10px;
            background: #ffffff;
            border: 2px solid #888888;
            border-radius: 4px;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* TC1.2b: Icon-only button with low contrast background */
        .tc1-icon-btn-low-bg {
            width: 44px;
            height: 44px;
            padding: 10px;
            background: #f5f5f5;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* TC2.2b: Icon-only button with sufficient background contrast */
        .tc2-icon-btn-good-bg {
            width: 44px;
            height: 44px;
            padding: 10px;
            background: #e0e0e0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* TC3: Charts/Diagrams */
        .chart-container {
            width: 100%;
            height: 150px;
            background: #ffffff;
            position: relative;
            border-radius: 4px;
        }
        .chart-bar {
            position: absolute;
            bottom: 0;
            width: 40px;
        }
        .chart-bar-1 { left: 20px; height: 60px; }
        .chart-bar-2 { left: 70px; height: 90px; }
        .chart-bar-3 { left: 120px; height: 120px; }

        .tc3-chart-low .chart-bar { background: #d8d8d8; }
        .tc3-chart-good .chart-bar { background: #888888; }

        /* TC4: Focus indicators */
        .tc4-focus-low {
            padding: 10px 20px;
            background: #ffffff;
            border: 2px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
            color: #495057;
        }
        .tc4-focus-low:focus {
            outline: 2px solid #d4d4d4;
            outline-offset: 2px;
        }

        .tc4-focus-good {
            padding: 10px 20px;
            background: #ffffff;
            border: 2px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
            color: #495057;
        }
        .tc4-focus-good:focus {
            outline: 2px solid #0d6efd;
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ WCAG 1.4.11 Non-text Contrast - Test Page</h1>
        <p><strong>Testing:</strong> UI components and graphical objects require at least 3:1 contrast ratio against adjacent colors.</p>

        <h2>üìù Test Case 1a: Form Elements - Border Contrast</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC1.1" data-expected-result="violation" data-wcag-criterion="1.4.11">
                <h3>‚ùå FAIL: Low Contrast Borders (1.8:1)</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;" class="tc1-form-low-border">
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" placeholder="Enter your name...">
                    </div>
                    <div class="form-group">
                        <label>Country:</label>
                        <select>
                            <option>Select country...</option>
                            <option>Germany</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Message:</label>
                        <textarea rows="2" placeholder="Your message..."></textarea>
                    </div>
                    <div class="form-group">
                        <div class="checkbox-wrapper">
                            <div class="tc1-checkbox-low"></div>
                            <span>I agree to terms</span>
                        </div>
                    </div>
                    <button type="submit" class="submit-btn">Submit</button>
                </div>
                <p>Form with very light gray borders (#e0e0e0) - fields and submit button barely visible, contrast 1.8:1</p>
                <code>&lt;input style="border: 1px solid #e0e0e0;"&gt;
&lt;button style="border: 1px solid #e0e0e0;"&gt;Submit&lt;/button&gt;</code>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC2.1" data-expected-result="pass" data-wcag-criterion="1.4.11">
                <h3>‚úÖ PASS: Sufficient Border Contrast (3.2:1)</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;" class="tc2-form-good-border">
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" placeholder="Enter your name...">
                    </div>
                    <div class="form-group">
                        <label>Country:</label>
                        <select>
                            <option>Select country...</option>
                            <option>Germany</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Message:</label>
                        <textarea rows="2" placeholder="Your message..."></textarea>
                    </div>
                    <div class="form-group">
                        <div class="checkbox-wrapper">
                            <div class="tc2-checkbox-good"></div>
                            <span>I agree to terms</span>
                        </div>
                    </div>
                    <button type="submit" class="submit-btn">Submit</button>
                </div>
                <p>Form with medium gray borders (#999999) - fields and submit button clearly visible, contrast 3.2:1</p>
                <code>&lt;input style="border: 1px solid #999999;"&gt;
&lt;button style="border: 1px solid #999999;"&gt;Submit&lt;/button&gt;</code>
            </div>
        </div>

        <h2>üìù Test Case 1b: Form Elements - Background Contrast</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC1.1b" data-expected-result="violation" data-wcag-criterion="1.4.11">
                <h3>‚ùå FAIL: Low Contrast Background (1.5:1)</h3>
                <div style="background: #ffffff; padding: 15px; border-radius: 4px;" class="tc1-form-low-bg">
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" placeholder="Enter your name...">
                    </div>
                    <div class="form-group">
                        <label>Country:</label>
                        <select>
                            <option>Select country...</option>
                            <option>Germany</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Message:</label>
                        <textarea rows="2" placeholder="Your message..."></textarea>
                    </div>
                    <div class="form-group">
                        <div class="checkbox-wrapper">
                            <div class="tc1-checkbox-low-bg"></div>
                            <span>I agree to terms</span>
                        </div>
                    </div>
                    <button type="submit" class="submit-btn">Submit</button>
                </div>
                <p>Form with very light gray background (#f5f5f5) - fields and submit button barely distinguishable, contrast 1.5:1</p>
                <code>&lt;input style="border: none; background: #f5f5f5;"&gt;
&lt;button style="border: none; background: #f5f5f5;"&gt;Submit&lt;/button&gt;</code>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC2.1b" data-expected-result="pass" data-wcag-criterion="1.4.11">
                <h3>‚úÖ PASS: Sufficient Background Contrast (3.5:1)</h3>
                <div style="background: #ffffff; padding: 15px; border-radius: 4px;" class="tc2-form-good-bg">
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" placeholder="Enter your name...">
                    </div>
                    <div class="form-group">
                        <label>Country:</label>
                        <select>
                            <option>Select country...</option>
                            <option>Germany</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Message:</label>
                        <textarea rows="2" placeholder="Your message..."></textarea>
                    </div>
                    <div class="form-group">
                        <div class="checkbox-wrapper">
                            <div class="tc2-checkbox-good-bg"></div>
                            <span>I agree to terms</span>
                        </div>
                    </div>
                    <button type="submit" class="submit-btn">Submit</button>
                </div>
                <p>Form with medium gray background (#e0e0e0) - fields and submit button clearly visible, contrast 3.5:1</p>
                <code>&lt;input style="border: none; background: #e0e0e0;"&gt;
&lt;button style="border: none; background: #e0e0e0;"&gt;Submit&lt;/button&gt;</code>
            </div>
        </div>

        <h2>üîò Test Case 2a: Icon-Only Button - Border Contrast</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC1.2" data-expected-result="violation" data-wcag-criterion="1.4.11">
                <h3>‚ùå FAIL: Low Contrast Border (2.5:1)</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px; display: flex; gap: 10px; justify-content: center;">
                    <button class="tc1-icon-btn-low-border" aria-label="Settings">‚öôÔ∏è</button>
                    <button class="tc1-icon-btn-low-border" aria-label="Search">üîç</button>
                    <button class="tc1-icon-btn-low-border" aria-label="Menu">‚ò∞</button>
                </div>
                <p>Icon-only buttons with light border (#d4d4d4) - hard to distinguish from background, contrast 2.5:1</p>
                <code>&lt;button style="border: 2px solid #d4d4d4; background: #fff;"&gt;‚öôÔ∏è&lt;/button&gt;</code>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC2.2" data-expected-result="pass" data-wcag-criterion="1.4.11">
                <h3>‚úÖ PASS: Sufficient Border Contrast (3.8:1)</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px; display: flex; gap: 10px; justify-content: center;">
                    <button class="tc2-icon-btn-good-border" aria-label="Settings">‚öôÔ∏è</button>
                    <button class="tc2-icon-btn-good-border" aria-label="Search">üîç</button>
                    <button class="tc2-icon-btn-good-border" aria-label="Menu">‚ò∞</button>
                </div>
                <p>Icon-only buttons with medium gray border (#888888) - clearly visible, contrast 3.8:1</p>
                <code>&lt;button style="border: 2px solid #888888; background: #fff;"&gt;‚öôÔ∏è&lt;/button&gt;</code>
            </div>
        </div>

        <h2>üîò Test Case 2b: Icon-Only Button - Background Contrast</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC1.2b" data-expected-result="violation" data-wcag-criterion="1.4.11">
                <h3>‚ùå FAIL: Low Contrast Background (1.5:1)</h3>
                <div style="background: #ffffff; padding: 15px; border-radius: 4px; display: flex; gap: 10px; justify-content: center;">
                    <button class="tc1-icon-btn-low-bg" aria-label="Settings">‚öôÔ∏è</button>
                    <button class="tc1-icon-btn-low-bg" aria-label="Search">üîç</button>
                    <button class="tc1-icon-btn-low-bg" aria-label="Menu">‚ò∞</button>
                </div>
                <p>Icon-only buttons with light background (#f5f5f5) - barely visible on white page, contrast 1.5:1</p>
                <code>&lt;button style="border: none; background: #f5f5f5;"&gt;‚öôÔ∏è&lt;/button&gt;</code>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC2.2b" data-expected-result="pass" data-wcag-criterion="1.4.11">
                <h3>‚úÖ PASS: Sufficient Background Contrast (3.5:1)</h3>
                <div style="background: #ffffff; padding: 15px; border-radius: 4px; display: flex; gap: 10px; justify-content: center;">
                    <button class="tc2-icon-btn-good-bg" aria-label="Settings">‚öôÔ∏è</button>
                    <button class="tc2-icon-btn-good-bg" aria-label="Search">üîç</button>
                    <button class="tc2-icon-btn-good-bg" aria-label="Menu">‚ò∞</button>
                </div>
                <p>Icon-only buttons with medium gray background (#e0e0e0) - clearly visible, contrast 3.5:1</p>
                <code>&lt;button style="border: none; background: #e0e0e0;"&gt;‚öôÔ∏è&lt;/button&gt;</code>
            </div>
        </div>

        <h2>üìä Test Case 3: Informative Graphics (Chart/Diagram)</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC3.1" data-expected-result="violation" data-wcag-criterion="1.4.11">
                <h3>‚ùå FAIL: Low Contrast Chart Elements (2.0:1)</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <p style="margin-top: 0; font-weight: 600; color: #495057;">Sales Growth Q1-Q3</p>
                    <div class="chart-container tc3-chart-low">
                        <div class="chart-bar chart-bar-1"></div>
                        <div class="chart-bar chart-bar-2"></div>
                        <div class="chart-bar chart-bar-3"></div>
                    </div>
                </div>
                <p>Chart bars with light gray (#d8d8d8) - hard to see data, insufficient contrast 2.0:1 to understand information</p>
                <code>&lt;div style="background: #d8d8d8;"&gt;&lt;!-- Chart bar --&gt;&lt;/div&gt;</code>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC3.2" data-expected-result="pass" data-wcag-criterion="1.4.11">
                <h3>‚úÖ PASS: Sufficient Chart Element Contrast (3.8:1)</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                    <p style="margin-top: 0; font-weight: 600; color: #495057;">Sales Growth Q1-Q3</p>
                    <div class="chart-container tc3-chart-good">
                        <div class="chart-bar chart-bar-1"></div>
                        <div class="chart-bar chart-bar-2"></div>
                        <div class="chart-bar chart-bar-3"></div>
                    </div>
                </div>
                <p>Chart bars with medium gray (#888888) - data clearly visible, sufficient contrast 3.8:1 to understand information</p>
                <code>&lt;div style="background: #888888;"&gt;&lt;!-- Chart bar --&gt;&lt;/div&gt;</code>
            </div>
        </div>

        <h2>üéØ Test Case 4: Focus Indicator</h2>
        <div class="test-grid">
            <!-- FAIL -->
            <div class="test-card fail" data-test-id="TC4.1" data-expected-result="violation" data-wcag-criterion="1.4.11">
                <h3>‚ùå FAIL: Low Contrast Focus Outline (2.3:1)</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px; text-align: center;">
                    <button class="tc4-focus-low">Focus Me (Tab)</button>
                </div>
                <p>Focus outline (#d4d4d4) with insufficient contrast - hard to see when focused</p>
                <code>&lt;button:focus style="outline: 2px solid #d4d4d4;"&gt;Focus Me&lt;/button&gt;</code>
            </div>

            <!-- PASS -->
            <div class="test-card pass" data-test-id="TC4.2" data-expected-result="pass" data-wcag-criterion="1.4.11">
                <h3>‚úÖ PASS: High Contrast Focus Outline (4.5:1)</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 4px; text-align: center;">
                    <button class="tc4-focus-good">Focus Me (Tab)</button>
                </div>
                <p>Focus outline (#0d6efd) with excellent contrast - clearly visible when focused</p>
                <code>&lt;button:focus style="outline: 2px solid #0d6efd;"&gt;Focus Me&lt;/button&gt;</code>
            </div>
        </div>

        <div style="background: #fff3cd; padding: 20px; border-radius: 5px; margin-top: 30px;">
            <h3>üìä Expected Results</h3>
            <ul>
                <li><strong>Total Test Cases:</strong> 12</li>
                <li><strong>Expected Violations:</strong> 6 (TC1.1, TC1.1b, TC1.2, TC1.2b, TC3.1, TC4.1)</li>
                <li><strong>Expected Passes:</strong> 6 (TC2.1, TC2.1b, TC2.2, TC2.2b, TC3.2, TC4.2)</li>
            </ul>
            <h4>WCAG 1.4.11 Requirements:</h4>
            <ul>
                <li><strong>UI Components:</strong> Minimum 3:1 contrast for visual information required to identify controls</li>
                <li><strong>Graphical Objects:</strong> Minimum 3:1 contrast for parts of graphics required to understand content</li>
                <li><strong>Applies to:</strong> Form control boundaries, focus indicators, interactive component states, informative graphics</li>
                <li><strong>Level:</strong> AA</li>
            </ul>
            <h4>Test Structure - Real-World Contexts:</h4>
            <p>Each test case shows the SAME component type side-by-side:</p>
            <ul>
                <li><strong>Left (Red/FAIL):</strong> Low contrast (below 3:1 threshold)</li>
                <li><strong>Right (Green/PASS):</strong> Sufficient contrast (‚â• 3:1)</li>
            </ul>
            <h4>Common Violations:</h4>
            <ul>
                <li><strong>Form Context (TC1a/1b):</strong> Form fields AND submit button with low contrast - important for users to identify entire form structure</li>
                <li><strong>Icon-Only Buttons (TC2a/2b):</strong> Navigation/toolbar buttons without text labels - must be identifiable even in navigation context (not ghost buttons in obvious nav)</li>
                <li><strong>Informative Graphics (TC3):</strong> Chart/diagram elements with insufficient contrast - users cannot understand the data/information</li>
                <li><strong>Focus Indicators (TC4):</strong> Outline colors too similar to background - keyboard users cannot see where they are</li>
            </ul>
            <h4>AI Testing Capabilities:</h4>
            <ul>
                <li>Can detect form contexts where submit button needs same contrast as other fields</li>
                <li>Can identify icon-only buttons that need higher contrast (vs. ghost buttons in obvious navigation)</li>
                <li>Can analyze informative graphics/charts and detect if visual elements convey understandable information</li>
                <li>Can measure contrast of all UI components against their adjacent backgrounds</li>
                <li>Can distinguish between decorative elements and functional UI components</li>
            </ul>
        </div>
    </div>
    <script>
        window.testMetadata = {
            wcagCriterion: '1.4.11',
            criterionName: 'Non-text Contrast',
            level: 'AA',
            totalCases: 12,
            expectedViolations: 6,
            expectedPasses: 6,
            testCases: []
        };
        document.querySelectorAll('[data-test-id]').forEach(tc => {
            window.testMetadata.testCases.push({
                id: tc.dataset.testId,
                expectedResult: tc.dataset.expectedResult,
                criterion: tc.dataset.wcagCriterion
            });
        });
        window.getTestMetadata = () => window.testMetadata;
        console.log('‚úÖ WCAG 1.4.11 test page loaded');
    </script>
</body>
</html>
